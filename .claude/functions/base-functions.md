# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¦‚è¦

## ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆã®ç›®çš„

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¿ã‚¤ãƒªãƒ³ã‚°ã—ãŸã„
2. ã‚¿ã‚¤ãƒªãƒ³ã‚°å†…ã§youtubeå‹•ç”»ã‚’è¦‹ãŸã„

## é–‹ç™ºæ™‚ã®æ³¨æ„ç‚¹

1. ã€MUSTã€‘å®Ÿè£…æ–¹é‡ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å…±æœ‰ã™ã‚‹ã“ã¨
2. ã€MUSTã€‘å®Ÿè£…ã‚’ã™ã‚‹å‰ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã‚’ã¨ã‚‹ã“ã¨
3. ã€MUSTã€‘ã‚³ãƒ¼ãƒ‰å®Ÿè£…ã®æœ€å¾Œã¯linter, formatterã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨

---

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹æˆ

### ğŸ“‹ åŸºæœ¬è¨­è¨ˆ

- **[æ©Ÿèƒ½è¦ä»¶ä¸€è¦§](./feature-requirements.md)** - å…¨æ©Ÿèƒ½ã®ä¸€è¦§ã¨ãƒªãƒ³ã‚¯é›†
- **[æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](./technical-stack.md)** - ä½¿ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ»é¸å®šç†ç”±ãƒ»APIåˆ©ç”¨æ–¹é‡
- **[ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](./architecture.md)** - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆãƒ»çŠ¶æ…‹ç®¡ç†ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
- **[ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ](./design-system.md)** - ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆãƒ»UIè¨­è¨ˆãƒ»ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°è¦å‰‡

### ğŸ”§ æ©Ÿèƒ½åˆ¥è©³ç´°è¨­è¨ˆ

1. **[ã‚¿ã‚¤ãƒªãƒ³ã‚°ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](./features/01-tiling-layout.md)**
   - ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
   - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ°¸ç¶šåŒ–

2. **[å‹•ç”»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼](./features/02-video-player.md)**
   - YouTubeå‹•ç”»å†ç”Ÿ
   - URLå…¥åŠ›ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
   - éŸ³é‡èª¿æ•´

3. **[ãƒ©ã‚¤ãƒ–ãƒãƒ£ãƒƒãƒˆè¡¨ç¤º](./features/03-live-chat.md)**
   - YouTube Live Chat iframe
   - ãƒãƒ£ãƒƒãƒˆè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
   - ãƒ©ã‚¤ãƒ–é…ä¿¡æ¤œå‡º

4. **[ãƒ‘ãƒãƒ«æ“ä½œ](./features/04-panel-controls.md)**
   - ãƒ‘ãƒãƒ«è¿½åŠ ãƒ»å‰Šé™¤
   - å…¨ãƒ‘ãƒãƒ«åŒæœŸæ“ä½œ

5. **[ã‚µã‚¤ãƒ‰ãƒãƒ¼](./features/05-sidebar.md)**
   - ãƒ‘ãƒãƒ«ä¸€è¦§ãƒ»ä¸¦ã³æ›¿ãˆ
   - ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ

6. **[ãƒãƒ£ãƒ³ãƒãƒ«ç®¡ç†](./features/06-channel-management.md)**
   - ãƒãƒ£ãƒ³ãƒãƒ«ç™»éŒ²ãƒ»å‰Šé™¤
   - YouTube Data APIé€£æº

7. **[ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º](./features/07-calendar.md)**
   - Google Calendaré¢¨UI
   - å‹•ç”»ãƒ»ãƒ©ã‚¤ãƒ–äºˆå®šè¡¨ç¤º

8. **[ãŠæ°—ã«å…¥ã‚ŠURL](./features/08-favorites.md)**
   - URLç™»éŒ²ãƒ»ç®¡ç†
   - åˆæœŸé…ç½®ãƒ»ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº

9. **[ãƒ©ã‚¤ãƒ–é–‹å§‹é€šçŸ¥](./features/09-notifications.md)**
   - ãƒ–ãƒ©ã‚¦ã‚¶é€šçŸ¥
   - ãƒãƒ¼ãƒªãƒ³ã‚°æ¤œçŸ¥

---

## ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆ

```json
{
  "dependencies": {
    "react-grid-layout": "^1.5.3",
    "react-player": "^3.4.0",
    "date-fns": "^4.1.0",
    "react-big-calendar": "^1.19.4"
  }
}
```

### ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

- **PanelContainer** - ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†
- **VideoPanel** - å‹•ç”»ãƒ‘ãƒãƒ«
- **MasterControls** - å…¨ãƒ‘ãƒãƒ«åŒæœŸæ“ä½œ
- **Sidebar** - ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆãƒ‘ãƒãƒ«ä¸€è¦§ãƒ»ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»ãŠæ°—ã«å…¥ã‚Šï¼‰
- **NotificationManager** - ãƒ©ã‚¤ãƒ–é–‹å§‹é€šçŸ¥

### API Endpoints

- `/api/youtube/videos` - ãƒãƒ£ãƒ³ãƒãƒ«ã®å‹•ç”»ä¸€è¦§å–å¾—
- `/api/youtube/live` - ãƒ©ã‚¤ãƒ–é…ä¿¡æƒ…å ±å–å¾—
- `/api/youtube/channel` - ãƒãƒ£ãƒ³ãƒãƒ«æƒ…å ±å–å¾—

### ç’°å¢ƒå¤‰æ•°

```
YOUTUBE_API_KEY=your_api_key_here
```

---

## é–‹ç™ºãƒ•ãƒ­ãƒ¼

### âœ… å®Œäº†

1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹é€ ã‚’è¨­è¨ˆ
2. å„æ©Ÿèƒ½è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆ
3. base-functions.mdã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
4. å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
5. å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
   - `src/types/panel.ts` - ãƒ‘ãƒãƒ«é–¢é€£ã®å‹
   - `src/types/channel.ts` - ãƒãƒ£ãƒ³ãƒãƒ«é–¢é€£ã®å‹
   - `src/types/favorite.ts` - ãŠæ°—ã«å…¥ã‚Šé–¢é€£ã®å‹
   - `src/types/youtube.ts` - YouTube APIé–¢é€£ã®å‹
   - `src/types/index.ts` - ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆé›†ç´„
6. Contextãƒ»çŠ¶æ…‹ç®¡ç†ã®å®Ÿè£…
   - `src/contexts/PanelsContext.tsx` - ãƒ‘ãƒãƒ«çŠ¶æ…‹ç®¡ç† + localStorageé€£æº
   - `src/contexts/ChannelsContext.tsx` - ãƒãƒ£ãƒ³ãƒãƒ«ç®¡ç† + localStorageé€£æº
   - `src/contexts/FavoritesContext.tsx` - ãŠæ°—ã«å…¥ã‚Šç®¡ç† + localStorageé€£æº
7. åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…ï¼ˆãƒ•ã‚§ãƒ¼ã‚º1: ã‚¿ã‚¤ãƒªãƒ³ã‚° + å‹•ç”»å†ç”Ÿï¼‰
   - `src/utils/youtube.ts` - YouTube URLè§£æãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
   - `src/contexts/GlobalProvider.tsx` - Contextçµ±åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
   - `src/components/VideoPlayer/` - react-playerãƒ©ãƒƒãƒ‘ãƒ¼
   - `src/components/URLInput/` - YouTube URLå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
   - `src/components/VolumeControl/` - éŸ³é‡èª¿æ•´UI
   - `src/components/VideoPanel/` - å‹•ç”»ãƒ‘ãƒãƒ«æœ¬ä½“ï¼ˆçµ±åˆï¼‰
   - `src/components/PanelContainer/` - react-grid-layoutã‚°ãƒªãƒƒãƒ‰ç®¡ç†
   - `src/app/layout.tsx` - GlobalProvideré©ç”¨
   - `src/app/page.tsx` - ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸å®Ÿè£…
   - ESLint & Prettier å®Ÿè¡Œ

### ğŸ“ ToDo

8. YouTube APIé€£æºã®å®Ÿè£…ï¼ˆãƒ•ã‚§ãƒ¼ã‚º2: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼‰
   - âœ… `src/lib/youtube-api.ts` - YouTube Data API v3ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…
   - âœ… `src/components/StreamCalendar/` - FullCalendarãƒ™ãƒ¼ã‚¹ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å®Ÿè£…
   - âœ… `src/components/Modal/` - ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
   - âœ… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆYouTubeã‚¢ã‚¤ã‚³ãƒ³ï¼‰å®Ÿè£…
   - âœ… é€±è¡¨ç¤ºãƒ»æœˆè¡¨ç¤ºã®å®Ÿè£…
   - âœ… è‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆç¾åœ¨æ™‚åˆ»ï¼‰å®Ÿè£…

9. Supabaseçµ±åˆã®å®Ÿè£…ï¼ˆãƒ•ã‚§ãƒ¼ã‚º3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ + ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰
   - âœ… ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ.env.localï¼‰
   - âœ… Supabase CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ³ã‚¯
   - âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼‰
     - `allowed_users` - ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆï¼‰
     - `favorite_channels` - ãŠæ°—ã«å…¥ã‚Šãƒãƒ£ãƒ³ãƒãƒ«
     - `stream_events` - é…ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
     - `panel_layouts` - ãƒ‘ãƒãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
     - `viewing_history` - è¦–è´å±¥æ­´ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
     - `api_quota_log` - YouTube APIã‚¯ã‚©ãƒ¼ã‚¿ãƒ­ã‚°
     - `fetched_date_ranges` - å–å¾—æ¸ˆã¿æœŸé–“ç®¡ç†
   - âœ… Row Level Security (RLS) è¨­å®šï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼ï¼‰
   - âœ… GitHub OAuthè¨­å®šï¼ˆGitHub OAuth Appä½œæˆ + Supabase Providerè¨­å®šï¼‰
   - âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´Supabaseé€£æºï¼ˆåŸºç¤ï¼‰
     - âœ… `@supabase/supabase-js`ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
     - âœ… Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–ï¼ˆ`src/lib/supabase.ts`ï¼‰
     - âœ… èªè¨¼Contextä½œæˆï¼ˆ`src/contexts/AuthContext.tsx`ï¼‰
     - âœ… èªè¨¼ãƒ•ãƒ­ãƒ¼ï¼ˆGitHub OAuth + ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ï¼‰
     - âœ… ãƒ­ã‚°ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`src/components/LoginModal/`ï¼‰
     - âœ… ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³è¿½åŠ 
     - âœ… ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ ãƒ»ãƒ†ã‚¹ãƒˆå®Œäº†
     - âœ… Contextã®Supabaseå¯¾å¿œï¼ˆãƒ­ã‚°ã‚¤ãƒ³æ™‚ã®ã¿åŒæœŸï¼‰
       - âœ… `ChannelsContext` â†’ Supabaseé€£æºï¼ˆfavorite_channelsï¼‰
       - âœ… `PanelsContext` â†’ Supabaseé€£æºï¼ˆpanel_layoutsï¼‰
     - âœ… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆSupabaseçµŒç”±ï¼‰
       - âœ… `StreamCalendar` â†’ stream_eventsãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å–å¾—
       - âœ… ãƒ­ã‚°ã‚¤ãƒ³æ™‚: Supabaseãƒ‡ãƒ¼ã‚¿ã€æœªãƒ­ã‚°ã‚¤ãƒ³æ™‚: ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
     - â³ Realtime Subscriptionï¼ˆé…ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆæ›´æ–°ï¼‰
   - âœ… Supabase Functionså®Ÿè£…
     - âœ… `fetch-channel-streams` - é…ä¿¡æƒ…å ±å®šæœŸå–å¾—ï¼ˆ5åˆ†ã”ã¨ã«Cronå®Ÿè¡Œäºˆå®šï¼‰
     - âœ… `fetch-past-streams` - éå»é…ä¿¡ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å–å¾—
     - âœ… `cleanup-old-events` - å¤ã„ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼ˆæ¯æ—¥1å›Cronå®Ÿè¡Œäºˆå®šï¼‰
   - â³ YouTube APIã‚­ãƒ¼å–å¾—ãƒ»è¨­å®š
   - â³ Supabase Functionsãƒ‡ãƒ—ãƒ­ã‚¤
   - â³ Cronè¨­å®šï¼ˆSupabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰
   - â³ ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆVercelï¼‰

10. é€šçŸ¥æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆãƒ•ã‚§ãƒ¼ã‚º4: æœ€é©åŒ–ï¼‰
    - â³ ãƒ©ã‚¤ãƒ–é–‹å§‹é€šçŸ¥
    - â³ ãƒ–ãƒ©ã‚¦ã‚¶é€šçŸ¥APIé€£æº
    - â³ Supabase Realtimeã‚’æ´»ç”¨ã—ãŸé€šçŸ¥

11. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»æœ€é©åŒ–ï¼ˆãƒ•ã‚§ãƒ¼ã‚º5ï¼‰
    - â³ Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤
    - â³ Supabase Functionsãƒ‡ãƒ—ãƒ­ã‚¤
    - â³ Cronè¨­å®š
    - â³ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
    - â³ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–

---

## è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### Supabaseè¨­è¨ˆ

- **[Supabaseè¨­è¨ˆæ›¸](./supabase-design.md)** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»Functionsè¨­è¨ˆãƒ»ã‚¯ã‚©ãƒ¼ã‚¿ç®¡ç†
- **[APIè¨­è¨ˆæ›¸](./api-design.md)** - Supabase/YouTube APIé€£æºä»•æ§˜
- **[å‰ææ¡ä»¶ãƒ»æƒ³å®šäº‹é …](./assumptions.md)** - è¨­è¨ˆã®å‰ææ¡ä»¶ã¨æƒ³å®šå€¤
